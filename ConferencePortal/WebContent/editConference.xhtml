<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">


	<ui:define name="body">
		<center>
			<a4j:form ajaxSubmit="true">
				<rich:panel style="width:800px"
					header="#{editConferenceBackBean.newConfernece ? messages['confernece.new_confernece'] : messages['conference.edit_conference']}">
					<center>
						<h:panelGrid columns="2">
							<h:outputText value="#{messages['conference.title']}:" />
							<h:inputText value="#{editConferenceBackBean.conference.title}"
								size="100" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.short_title']}:" />
							<h:inputText
								value="#{editConferenceBackBean.conference.shortTitle}"
								size="100" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.tags']}:" />
							<rich:panel>
								<rich:dataGrid value="#{editConferenceBackBean.conference.tags}"
									var="tag" columns="5" style="border:0px"
									columnClasses="noBorder" id="tag_dataGrid">
									<h:outputText value="#{tag.name}" />
								</rich:dataGrid>
								<h:commandButton action="#"
									onclick="#{rich:component('tag_panel')}.show()"
									value="#{messages['conference.add']}"
									title="#{messages['conference.add']}" image="img/edit_add.png"
									styleClass="myButton">

								</h:commandButton>
								<rich:messages />
							</rich:panel>
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.description']}:" />
							<h:inputTextarea
								value="#{editConferenceBackBean.conference.description}"
								rows="10" cols="73" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.start_date']}:" />
							<rich:calendar
								value="#{editConferenceBackBean.conference.startDate}"
								popup="true" datePattern="yyyy. MM. dd. HH:mm"
								showApplyButton="true" cellWidth="24px" cellHeight="22px"
								style="width:200px" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.end_date']}:" />
							<rich:calendar
								value="#{editConferenceBackBean.conference.endDate}"
								popup="true" datePattern="yyyy. MM. dd. HH:mm"
								showApplyButton="true" cellWidth="24px" cellHeight="22px"
								style="width:200px" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.location']}:" />
							<rich:spacer />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.programs']}:" />
							<rich:panel>
								<rich:dataGrid id="program_dataGrid"
									value="#{editConferenceBackBean.programs}" var="program"
									columns="1" style="border:0px" columnClasses="noBorder">
									<rich:panel style="border:0px">
										<h:panelGrid columns="2">
											<rich:panel style="border:0px">
												<h:outputText value="#{program.title}" />
												<rich:spacer width="5px"/>
												<h:outputText
													value="#{program.start.toLocaleString()} - #{program.end.toLocaleString()}" />
											</rich:panel>
										 	<a4j:commandButton
												action="#{editConferenceBackBean.changeSelectedProgram(program)}"
												onclick="#{rich:component('program_panel')}.show()"
												image="img/edit.png" styleClass="myButton" />
										 
										</h:panelGrid>
										<rich:toolTip followMouse="true" direction="top-right"
											showDelay="250" styleClass="tooltip">
											<span style="white-space: nowrap"> <h:outputText
													value="#{program.description}" />
											</span>
										</rich:toolTip>

									</rich:panel>
									<rich:separator height="1" lineType="solid" />
								</rich:dataGrid>
								<a4j:commandButton
									action="#{editConferenceBackBean.newSelectedProgram()}"
									onclick="#{rich:component('program_panel')}.show()"
									value="#{messages['conference.add']}"
									title="#{messages['conference.add']}" image="img/edit_add.png"
									styleClass="myButton" />
							</rich:panel>
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.summary']}:" />
							<h:inputTextarea
								value="#{editConferenceBackBean.conference.summary}" rows="10"
								cols="73" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

							<h:outputText value="#{messages['conference.articles']}:" />
							<a4j:commandButton
									action="#"
									onclick="#{rich:component('article_panel')}.show()"
									value="#{messages['conference.add']}"
									title="#{messages['conference.add']}" image="img/edit_add.png"
									styleClass="myButton" />
							<rich:separator height="1" lineType="solid" />
							<rich:separator height="1" lineType="solid" />

						</h:panelGrid>
						<a4j:commandButton action="#{editConferenceBackBean.saveConference()}"
							value="#{messages['conference.save']}"
							title="#{messages['conference.save']}" image="/img/save.png"
							styleClass="myButton" />
					</center>
				</rich:panel>
				<a4j:commandButton action="#{editConferenceBackBean.changeNew()}"
					value="change new" />
			</a4j:form>
		</center>



		<!-- Tag hozzaado panel -->
		<ui:include src="layout/modalPanels/tag_modalPanel.xhtml"/>
		

		<!-- Program hozzaado panel -->
		<ui:include src="layout/modalPanels/program_modalPanel.xhtml"/>
		
		<!-- Uj cikk feltoltes panel -->
		<ui:include src="layout/modalPanels/article_modalPanel.xhtml"/>
		
	</ui:define>

</ui:composition>