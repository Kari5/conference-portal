<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" xmlns:a="http://richfaces.org/a4j"
	xmlns:s="http://jboss.com/products/seam/taglib" contentType="text/html">
	<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ConferencePortal</title>
<link rel="shortcut icon" href="#{request.contextPath}/favicon.ico" />
<a:loadStyle src="/stylesheet/theme.xcss" />
<a:loadStyle src="/stylesheet/theme.css" />
<a:loadStyle src="/stylesheet/myStyle.css" />
<ui:insert name="head" />
</head>
<body>
	<ui:include src="menu.xhtml">
		<ui:param name="projectName" value="ConferencePortal" />
	</ui:include>
	<div class="body">
		<h:messages id="messages" globalOnly="true" styleClass="message" errorClass="errormsg"
			infoClass="infomsg" warnClass="warnmsg" rendered="#{showGlobalMessages != 'false'}" />
		<center>
			<h:panelGrid columns="3" columnClasses="top20,top60,top20" style="width:100%">
				<s:div>
					<a:form ajaxSubmit="true">
						<rich:panel>
							<rich:dataGrid value="#{homePageBackBean.conferences}" var="conference" columns="1"
								rowKeyVar="row" columnClasses="noBorder" style="border:0px">
								<center>
									<a:commandLink action="#{homePageBackBean.changeSelectedConference(conference)}"
										reRender="conferencePanel,navigationPanel" styleClass="title">
										<h:outputText value="#{row+1} " />
										<h:outputText value="#{conference.shortTitle} " />
										<br />
										<rich:calendar value="#{conference.startDate}" popup="true"
											datePattern="yyyy. MM. dd. HH:mm" disabled="true" />
									</a:commandLink>
								</center>
								<rich:separator height="1" lineType="solid" />
							</rich:dataGrid>
						</rich:panel>
					</a:form>
				</s:div>
				<s:div>
					<ui:insert name="body" />
				</s:div>
				<s:div>
					<a:form ajaxSubmit="true">
						<rich:panel id="navigationPanel">
							<h:panelGrid columns="1">
								<h:outputText value="#{messages['menu.tag.main']}" />
								<s:button value="#{messages['menu.tag.home']}" action="home" />
								<s:button value="#{messages['menu.tag.uploadarticle']}"
									onclick="#{rich:component('new_article_panel')}.show(); return false;" />
								<s:button value="#{messages['menu.tag.createconference']}"
									action="#{homePageBackBean.createConference()}" />
								<s:button value="#{messages['menu.tag.editaccount']}" action="editAccount"
									rendered="#{identity.loggedIn}" />
								<s:button value="#{messages['menu.tag.listsubscriptions']}" action="listSubs"
									rendered="#{identity.loggedIn}" />
								<s:button value="#{messages['search.tag.btn']}" action="searchConf" />
							</h:panelGrid>

							<s:fragment rendered="#{conferenceStateHolder.selected != null}">
								<h:panelGrid columns="1">
									<h:outputText value="#{messages['menu.tag.conference']}" />
									<s:button value="#{messages['menu.tag.addarticle']}"
										onclick="#{rich:component('article_panel')}.show(); return false;" />
									<s:button value="#{messages['menu.tag.editconference']}" action="editConference"
										rendered="#{homePageBackBean.checkOwner()}" />
									<s:button value="#{messages['menu.tag.addquestion']}"
										onclick="#{rich:component('question_panel')}.show(); return false;" />
									<s:button value="#{messages['menu.tag.subscribe']}"
										action="#{homePageBackBean.subscribe()}"
										rendered="#{not homePageBackBean.checkSubscription()}" />
									<s:button value="#{messages['menu.tag.unsubscribe']}"
										action="#{homePageBackBean.unsubscribe()}"
										rendered="#{homePageBackBean.checkSubscription()}" />
								</h:panelGrid>
							</s:fragment>
						</rich:panel>
					</a:form>
				</s:div>
			</h:panelGrid>
		</center>
		<!-- Tag hozzaado panel -->
		<ui:include src="modalPanels/tag_modalPanel.xhtml" />

		<!-- Program hozzaado panel -->
		<ui:include src="modalPanels/program_modalPanel.xhtml" />

		<!-- Uj cikk feltoltes panel -->
		<ui:include src="modalPanels/newArticle_modalPanel.xhtml" />

		<!-- Cikk hozzaadasa panel -->
		<ui:include src="modalPanels/article_modalPanel.xhtml" />

		<!-- Kerdes hozzaadasa panel -->
		<ui:include src="modalPanels/question_modalPanel.xhtml" />

		<!-- Kerdes megvalaszolasa panel -->
		<ui:include src="modalPanels/answer_modalPanel.xhtml" />
	</div>
	<div class="footer">
		<p>
			Powered by <a href="http://seamframework.org">Seam</a> #{org.jboss.seam.version} and <a
				href="http://www.jboss.org/jbossrichfaces">RichFaces</a>. Generated by seam-gen.
		</p>
		<s:fragment rendered="#{init.debug}">
			<a:log hotkey="D" />
			<p style="margin-top: -0.5em;">
				Conversation: id = #{conversation.id}, #{conversation.longRunning ? 'long running' :
				'temporary'}#{conversation.nested ? ', nested, parent id = '.concat(conversation.parentId) : ''}
				#{' - '} Ajax4jsf Log (Ctrl+Shift+D) #{' - '}
				<s:link id="debugConsole" view="/debug.xhtml" value="Debug console" target="debugConsole" />
				#{' - '}
				<s:link id="resetSession" view="/home.xhtml" action="#{org.jboss.seam.web.session.invalidate}"
					propagation="none" value="Terminate session" />
			</p>
		</s:fragment>
	</div>
</body>
	</html>
</f:view>
